<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="FloresYa - Tu florister√≠a en l√≠nea de confianza. Hermosos ramos, arreglos florales y plantas para toda ocasi√≥n. Entrega a domicilio en Venezuela.">
    <meta name="keywords" content="flores, florister√≠a, ramos, arreglos florales, plantas, Venezuela, entrega domicilio">
    <title>FloresYa - Tu Florister√≠a en L√≠nea</title>
    
    <!-- Critical CSS inline to prevent FOUC -->
    <style>
        /* Hide content initially to prevent FOUC */
        html { visibility: hidden; opacity: 0; }
        html.loaded { visibility: visible; opacity: 1; transition: opacity 0.3s ease; }

        /* Critical styles for immediate rendering */
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        .navbar { background: linear-gradient(135deg, #e91e63 0%, #f06292 100%) !important; }
        .hero-section { background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 50%, #fce4ec 100%); min-height: 300px; }
        h1 { font-size: 2.5rem !important; margin: 0.67em 0 !important; line-height: 1.2 !important; font-weight: bold; }
        .hero-section h1 { font-size: 2.5rem !important; margin: 0.5em 0 !important; font-weight: 800 !important; }
        @media (max-width: 768px) { h1 { font-size: 2rem !important; } }
    </style>

    <!-- Load CSS synchronously to prevent FOUC -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/carousel.css">
    <link rel="stylesheet" href="/css/product-transitions.css">
    <link rel="stylesheet" href="/css/scroll-fix.css">
    <!-- Preload critical resources -->
    <link rel="preload" href="/images/logoFloresYa.jpeg" as="image" importance="high">
    <link rel="modulepreload" href="/frontend/utils/logger.js">
    <link rel="modulepreload" href="/frontend/services/api.js">
    <link rel="modulepreload" href="/frontend/main.js">
    
    <!-- DNS prefetch for external domains -->
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    
    <!-- Bootstrap Icons (non-critical) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" media="print" onload="this.media='all'"">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="FloresYa - Tu Florister√≠a en L√≠nea">
    <meta property="og:description" content="Hermosos ramos, arreglos florales y plantas para toda ocasi√≥n. Entrega a domicilio en Venezuela.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://floresya.com">
    <meta property="og:image" content="/images/og-image.jpg">

<!-- Simplified FOUC prevention -->
<script>
    (function() {
        'use strict';

        // Simple FOUC prevention - show content when DOM is ready
        function showContent() {
            if (!document.documentElement.classList.contains('loaded')) {
                document.documentElement.classList.add('loaded');
                console.log('[‚úÖ] Content visible - FOUC prevented');
            }
        }

        // Show content when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                console.log('[üèóÔ∏è] DOM ready - showing content');
                showContent();
            });
        } else {
            // DOM already loaded
            showContent();
        }

        // Fallback timer (in case something goes wrong)
        setTimeout(function() {
            if (!document.documentElement.classList.contains('loaded')) {
                document.documentElement.classList.add('loaded');
                console.log('[‚è∞] Fallback: Content shown after timeout');
            }
        }, 2000);

    })();
</script>


</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="/">
                <img src="/images/logoFloresYa.jpeg" alt="FloresYa Logo" class="logo-img me-2" data-critical="true" loading="eager" style="width: 40px; height: 40px; object-fit: cover;">
                <span class="brand-text">FloresYa</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#productos">Productos</a>
                    </li>
                    <li class="nav-item" id="logoutNavItem" style="display: none;">
                        <a class="nav-link text-danger" href="#" id="mainLogoutBtn" title="Cerrar sesi√≥n">
                            <i class="bi bi-box-arrow-right me-1"></i>Cerrar Sesi√≥n
                        </a>
                    </li>
                </ul>
                
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link position-relative cart-icon-wrapper" href="#" id="cartToggle" data-bs-toggle="offcanvas" data-bs-target="#cartOffcanvas" title="Ver carrito">
                            <i class="bi bi-bag-heart cart-icon"></i>
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary-custom cart-badge" id="cartCount">0</span>
                            <span class="position-absolute cart-pulse" id="cartPulse"></span>
                        </a>
                    </li>
                    <li class="nav-item dropdown" id="userDropdown" style="display: none;">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" id="userMenu">
                            <i class="bi bi-person-circle"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#" id="viewProfile">Mi Perfil</a></li>
                            <li><a class="dropdown-item" href="#" id="viewOrders">Mis Pedidos</a></li>
                            <li><a class="dropdown-item" href="/pages/admin.html" id="adminPanel" style="display: none;">
                                <i class="bi bi-shield-check me-2"></i>Panel de Administrador
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" id="logoutBtn">Cerrar Sesi√≥n</a></li>
                        </ul>
                    </li>
                    <li class="nav-item" id="adminPanelLink" style="display: none;">
                        <a class="nav-link" href="/pages/admin.html">
                            <i class="bi bi-shield-check me-1"></i>Panel Admin
                        </a>
                    </li>
                    <li class="nav-item" id="loginBtn">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Iniciar Sesi√≥n</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section - Optimized Height -->
    <section class="hero-section text-white text-center py-4" style="min-height: 300px;">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-5 fw-bold mb-3">Flores Frescas Para Toda Ocasi√≥n</h1>
                    <p class="lead mb-3">Descubre nuestra hermosa colecci√≥n de ramos, arreglos florales y plantas. Entrega fresca y puntual en toda Venezuela.</p>
                    <a href="#productos" class="btn btn-light btn-lg">Ver Productos</a>
                </div>
                <div class="col-lg-6">
                    <img src="/images/hero-flowers.webp" alt="Hermosas flores" class="img-fluid rounded shadow hover-lift" style="max-height: 200px; object-fit: cover;" data-critical="true" width="280" height="200" loading="eager">
                    <!-- Trust indicator overlay -->
                    <div class="position-absolute" style="bottom: 10px; right: 10px;">
                        <span class="badge" style="background: rgba(40, 167, 69, 0.9); color: white;">
                            <i class="bi bi-shield-check me-1"></i>Garantizado
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dynamic Image Carousel - Industry Standard Section -->
    <section class="dynamic-carousel py-3">
        <div class="container">
            <div class="text-center mb-3">
                <h3 class="fw-bold text-primary-custom" id="carouselSectionTitle">Nuestras Creaciones Destacadas</h3>
                <p class="text-muted small" id="carouselSectionSubtitle">Descubre nuestros arreglos m√°s populares</p>
            </div>
            <div class="image-carousel" id="dynamicCarousel">
                <!-- Dynamic images will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <main id="main-content">
        <section id="productos" class="py-5" role="main" aria-label="Secci√≥n de productos destacados">
            <div class="container">

                <div class="text-center mb-5">
                    <h2 class="fw-bold">Productos Destacados</h2>
                    <p class="text-muted">Nuestras flores m√°s populares y arreglos especiales</p>
                    
                </div>
            
            <!-- Search and Filters -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Buscar productos..." id="searchInput">
                        <button class="btn btn-outline-success" type="button" id="searchBtn">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="occasionFilter">
                        <option value="">Todas las ocasiones</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="sortFilter">
                        <option value="created_at:DESC">M√°s recientes</option>
                        <option value="price:ASC">Precio: Menor a mayor</option>
                        <option value="price:DESC">Precio: Mayor a menor</option>
                        <option value="name:ASC">Nombre: A-Z</option>
                    </select>
                </div>
            </div>
            
            <div class="row" id="productsContainer">
                <!-- Products will be loaded here -->
            </div>
            
            <!-- Pagination -->
            <nav aria-label="Productos" class="mt-4">
                <ul class="pagination justify-content-center" id="pagination">
                </ul>
            </nav>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-4 bg-light">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-3 mb-4">
                    <div class="feature-item">
                        <i class="bi bi-flower1 text-success mb-3" style="font-size: 3rem;"></i>
                        <h5>Flores Frescas</h5>
                        <p class="text-muted">Garantizamos la frescura y calidad de todas nuestras flores</p>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="feature-item">
                        <i class="bi bi-truck text-success mb-3" style="font-size: 3rem;"></i>
                        <h5>Entrega R√°pida</h5>
                        <p class="text-muted">Entregamos en el d√≠a que elijas, puntual y seguro</p>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="feature-item">
                        <i class="bi bi-heart text-success mb-3" style="font-size: 3rem;"></i>
                        <h5>Hechos con Amor</h5>
                        <p class="text-muted">Cada arreglo es creado con dedicaci√≥n y cuidado especial</p>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="feature-item">
                        <i class="bi bi-shield-check text-success mb-3" style="font-size: 3rem;"></i>
                        <h5>Garant√≠a Total</h5>
                        <p class="text-muted">Si no est√°s satisfecho, te devolvemos tu dinero</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Special Sections Navigation - Call to Action -->
    <section class="special-sections py-4 bg-gradient-primary">
        <div class="container">
            <div class="text-center mb-4">
                <h3 class="fw-bold text-white">¬øBuscas algo especial?</h3>
                <p class="lead text-white-75">Descubre nuestros servicios premium y exclusivos</p>
            </div>
            <div class="row text-center">
                <div class="col-md-6 mb-3">
                    <a href="#" class="special-link text-decoration-none" onclick="floresyaApp.showFloresNovias()">
                        <div class="special-card p-3 bg-white rounded shadow-lg h-100 d-flex align-items-center justify-content-center hover-lift">
                            <div>
                                <i class="bi bi-suit-heart-fill text-primary-custom mb-3" style="font-size: 3rem;"></i>
                                <h4 class="text-primary-custom fw-bold mb-2">Flores Ya Novias</h4>
                                <p class="text-muted mb-3">Arreglos exclusivos para el d√≠a m√°s especial de tu vida</p>
                                <span class="btn btn-outline-primary-custom">Conocer m√°s</span>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="special-card p-3 bg-white rounded shadow-lg h-100 d-flex align-items-center justify-content-center hover-lift">
                        <div>
                            <i class="bi bi-lightning-fill text-warning mb-3" style="font-size: 3rem;"></i>
                            <h4 class="text-warning fw-bold mb-2">Entrega Express</h4>
                            <p class="text-muted mb-3">¬øNecesitas flores urgente? Entregamos en 2 horas</p>
                            <a href="/pages/under-construction.html" class="btn btn-warning text-decoration-none">Pr√≥ximamente</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    </main>

    <!-- Floating Action Button for Mobile -->
    <button class="fab d-md-none" onclick="document.getElementById('productos').scrollIntoView({behavior: 'smooth'});" title="Ver productos">
        <i class="bi bi-flower1"></i>
    </button>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5 class="fw-bold mb-3">
                        <i class="bi bi-flower1 me-2"></i>FloresYa
                    </h5>
                    <p class="mb-3">Tu florister√≠a en l√≠nea de confianza. Llevamos la belleza de las flores directamente a tu hogar.</p>
                    <div class="social-links">
                        <a href="#" class="text-white me-3"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="text-white me-3"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="text-white me-3"><i class="bi bi-twitter"></i></a>
                        <a href="#" class="text-white"><i class="bi bi-whatsapp"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 mb-4">
                    <h6 class="fw-bold mb-3">Productos</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50">Rosas</a></li>
                        <li><a href="#" class="text-white-50">Bouquets</a></li>
                        <li><a href="#" class="text-white-50">Plantas</a></li>
                        <li><a href="#" class="text-white-50">Arreglos</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 mb-4">
                    <h6 class="fw-bold mb-3">Ocasiones</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50" data-occasion="amor">Amor</a></li>
                        <li><a href="#" class="text-white-50" data-occasion="birthday">Cumplea√±os</a></li>
                        <li><a href="#" class="text-white-50" data-occasion="anniversary">Aniversarios</a></li>
                        <li><a href="#" class="text-white-50" data-occasion="mother">D√≠a de la Madre</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 mb-4">
                    <h6 class="fw-bold mb-3">Contacto</h6>
                    <p class="mb-2"><i class="bi bi-geo-alt me-2"></i>Caracas, Venezuela</p>
                    <p class="mb-2"><i class="bi bi-telephone me-2"></i>+58412-1234567</p>
                    <p class="mb-2"><i class="bi bi-envelope me-2"></i>contacto@floresya.com</p>
                    <p class="small text-white-50 mb-0">
                        <i class="bi bi-clock me-2"></i>
                        Lun-Vie: 8:00-18:00 | S√°b: 9:00-16:00
                    </p>
                </div>
            </div>
            <hr class="my-4">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2024 FloresYa. Todos los derechos reservados.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-white-50 me-3">T√©rminos y Condiciones</a>
                    <a href="#" class="text-white-50">Pol√≠tica de Privacidad</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Enhanced Shopping Cart Offcanvas -->
    <div class="offcanvas offcanvas-end cart-offcanvas" tabindex="-1" id="cartOffcanvas" style="width: 400px;">
        <div class="offcanvas-header bg-gradient-primary text-white">
            <h5 class="offcanvas-title">
                <i class="bi bi-bag-heart me-2"></i>Mi Carrito
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body p-0">
            <!-- Cart Content -->
            <div class="cart-content">
                <!-- Guest Info Banner -->
                <div id="guestBanner" class="alert alert-info mx-3 mt-3" style="display: none;">
                    <i class="bi bi-person-circle me-2"></i>
                    <strong>Comprando como invitado</strong>
                    <br><small class="text-muted">Puedes registrarte despu√©s para un seguimiento completo</small>
                </div>

                <!-- Empty Cart State -->
                <div id="emptyCart" class="text-center py-5">
                    <i class="bi bi-bag display-1 text-muted mb-3"></i>
                    <h6 class="text-muted">Tu carrito est√° vac√≠o</h6>
                    <p class="text-muted small">¬°Agrega algunos productos para comenzar!</p>
                    <button class="btn btn-outline-primary" data-bs-dismiss="offcanvas">
                        Explorar productos
                    </button>
                </div>

                <!-- Cart Items -->
                <div id="cartItems" class="px-3">
                    <!-- Cart items will be loaded here dynamically -->
                </div>
            </div>

            <!-- Cart Footer -->
            <div class="cart-footer bg-light mt-auto">
                <div class="px-3 py-3">
                    <!-- Quick Actions -->
                    <div id="quickActions" class="mb-3" style="display: none;">
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-secondary btn-sm flex-fill" onclick="cart.clearCart()">
                                <i class="bi bi-trash"></i> Vaciar
                            </button>
                            <button class="btn btn-outline-primary btn-sm flex-fill" onclick="cart.saveForLater()">
                                <i class="bi bi-bookmark"></i> Guardar
                            </button>
                        </div>
                    </div>

                    <!-- Subtotal -->
                    <div id="cartSummary" style="display: none;">
                        <div class="d-flex justify-content-between mb-2">
                            <span>Subtotal:</span>
                            <span id="cartSubtotal">$0.00</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2 text-muted small">
                            <span>Env√≠o:</span>
                            <span>Gratis</span>
                        </div>
                        <hr class="my-2">
                        <div class="d-flex justify-content-between mb-3">
                            <strong>Total:</strong>
                            <strong class="text-primary-custom" id="cartTotal">$0.00</strong>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div id="cartActions" style="display: none;">
                        <div class="d-grid gap-2">
                            <button class="btn btn-primary-custom btn-lg" id="floresyaCheckoutBtn">
                                <i class="bi bi-cart-check me-2"></i>FloresYa Express
                            </button>
                            <button class="btn btn-outline-success" id="regularCheckoutBtn">
                                <i class="bi bi-credit-card me-2"></i>Checkout Normal
                            </button>
                        </div>
                        
                        <!-- Trust Indicators -->
                        <div class="text-center mt-3">
                            <small class="text-muted">
                                <i class="bi bi-shield-check text-success"></i> Compra segura
                                <span class="mx-2">|</span>
                                <i class="bi bi-truck text-success"></i> Env√≠o gratis
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div class="modal fade" id="productModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="productModalTitle"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="productModalBody">
                    <!-- Product details will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Iniciar Sesi√≥n</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <!-- Development Quick Login Buttons -->
                    <div class="dev-login-buttons mb-3 p-2 bg-light rounded" style="border: 1px dashed #ffc107;">
                        <small class="text-muted d-block mb-2"><i class="bi bi-tools"></i> Desarrollo - Acceso r√°pido:</small>
                        <div class="d-flex gap-2">
                            <button type="button" class="btn btn-outline-primary btn-sm flex-fill" id="devAdminLogin">
                                <i class="bi bi-shield-check me-1"></i>Admin
                            </button>
                            <button type="button" class="btn btn-outline-success btn-sm flex-fill" id="devClientLogin">
                                <i class="bi bi-person me-1"></i>Cliente
                            </button>
                        </div>
                    </div>
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="loginEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Contrase√±a</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-success w-100">Iniciar Sesi√≥n</button>
                    </form>
                    
                    
                    <div class="text-center mt-3">
                        <p>¬øNo tienes cuenta? <a href="#" data-bs-toggle="modal" data-bs-target="#registerModal" data-bs-dismiss="modal">Reg√≠strate aqu√≠</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal fade" id="registerModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Crear Cuenta</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="registerForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="firstName" class="form-label">Nombre</label>
                                    <input type="text" class="form-control" id="firstName" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="lastName" class="form-label">Apellido</label>
                                    <input type="text" class="form-control" id="lastName" required>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="registerEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="registerEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">Tel√©fono</label>
                            <input type="tel" class="form-control" id="phone" placeholder="+58414-1234567">
                        </div>
                        <div class="mb-3">
                            <label for="registerPassword" class="form-label">Contrase√±a</label>
                            <input type="password" class="form-control" id="registerPassword" required>
                        </div>
                        <button type="submit" class="btn btn-success w-100">Crear Cuenta</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Flores Ya Novias Modal -->
    <div class="modal fade" id="floresNoviasModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header bg-pink text-white">
                    <h5 class="modal-title">
                        <i class="bi bi-suit-heart-fill me-2"></i>
                        Flores Ya Novias - Arreglos Especiales para tu Boda
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="flores-novias-section">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-lg-6 mb-4">
                                    <div class="novias-card">
                                        <div class="novias-icon">
                                            <i class="bi bi-heart-fill"></i>
                                        </div>
                                        <h3 class="text-pink mb-3">Tu D√≠a Especial Merece Flores Perfectas</h3>
                                        <p class="mb-4">
                                            En FloresYa Novias, entendemos que tu boda es el d√≠a m√°s importante de tu vida. 
                                            Por eso, creamos arreglos florales √∫nicos y personalizados que har√°n de tu celebraci√≥n 
                                            un momento inolvidable.
                                        </p>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <div class="feature-highlight">
                                                    <i class="bi bi-flower1 text-pink mb-2"></i>
                                                    <h6>Ramos de Novia</h6>
                                                    <p class="small text-muted">Dise√±os √∫nicos personalizados para ti</p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <div class="feature-highlight">
                                                    <i class="bi bi-gem text-pink mb-2"></i>
                                                    <h6>Decoraci√≥n de Altares</h6>
                                                    <p class="small text-muted">Ambientaci√≥n floral completa</p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <div class="feature-highlight">
                                                    <i class="bi bi-people-fill text-pink mb-2"></i>
                                                    <h6>Centros de Mesa</h6>
                                                    <p class="small text-muted">Elegancia para cada mesa</p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <div class="feature-highlight">
                                                    <i class="bi bi-suit-heart text-pink mb-2"></i>
                                                    <h6>Arcos Florales</h6>
                                                    <p class="small text-muted">El marco perfecto para tus votos</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 mb-4">
                                    <div class="novias-contact-card">
                                        <h4 class="text-pink mb-4">Solicita tu Consulta Personalizada</h4>
                                        <form id="noviasContactForm" class="needs-validation" novalidate>
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label for="noviaName" class="form-label">Nombre de la Novia</label>
                                                    <input type="text" class="form-control" id="noviaName" required>
                                                    <div class="invalid-feedback">
                                                        Por favor ingresa tu nombre
                                                    </div>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label for="noviaPhone" class="form-label">Tel√©fono</label>
                                                    <input type="tel" class="form-control" id="noviaPhone" required>
                                                    <div class="invalid-feedback">
                                                        Por favor ingresa tu tel√©fono
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="noviaEmail" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="noviaEmail" required>
                                                <div class="invalid-feedback">
                                                    Por favor ingresa un email v√°lido
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label for="weddingDate" class="form-label">Fecha de Boda</label>
                                                    <input type="date" class="form-control" id="weddingDate" required>
                                                    <div class="invalid-feedback">
                                                        Por favor selecciona la fecha de boda
                                                    </div>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label for="guestCount" class="form-label">Cantidad de Invitados</label>
                                                    <select class="form-select" id="guestCount" required>
                                                        <option value="">Selecciona...</option>
                                                        <option value="1-50">1 - 50 invitados</option>
                                                        <option value="51-100">51 - 100 invitados</option>
                                                        <option value="101-200">101 - 200 invitados</option>
                                                        <option value="201+">M√°s de 200 invitados</option>
                                                    </select>
                                                    <div class="invalid-feedback">
                                                        Por favor selecciona la cantidad de invitados
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="weddingVenue" class="form-label">Lugar de Celebraci√≥n</label>
                                                <input type="text" class="form-control" id="weddingVenue" placeholder="Nombre del venue o direcci√≥n">
                                            </div>
                                            <div class="mb-3">
                                                <label for="noviasMessage" class="form-label">Cu√©ntanos sobre tu boda so√±ada</label>
                                                <textarea class="form-control" id="noviasMessage" rows="4" placeholder="Describe tu estilo preferido, colores, tema de la boda, etc."></textarea>
                                            </div>
                                            <div class="mb-3">
                                                <label for="budget" class="form-label">Presupuesto Aproximado (USD)</label>
                                                <select class="form-select" id="budget">
                                                    <option value="">Prefiero no especificar</option>
                                                    <option value="100-300">$100 - $300</option>
                                                    <option value="300-600">$300 - $600</option>
                                                    <option value="600-1000">$600 - $1,000</option>
                                                    <option value="1000+">M√°s de $1,000</option>
                                                </select>
                                            </div>
                                            <button type="submit" class="btn btn-primary-custom btn-lg w-100">
                                                <i class="bi bi-send me-2"></i>Solicitar Consulta Gratuita
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mt-5">
                                <div class="col-12 text-center">
                                    <h4 class="text-pink mb-4">¬øPor qu√© elegir FloresYa Novias?</h4>
                                    <div class="row">
                                        <div class="col-md-3 mb-4">
                                            <div class="feature-item">
                                                <i class="bi bi-award text-primary-custom mb-3" style="font-size: 3rem;"></i>
                                                <h6>10+ A√±os de Experiencia</h6>
                                                <p class="text-muted small">Especializados en bodas exclusivas</p>
                                            </div>
                                        </div>
                                        <div class="col-md-3 mb-4">
                                            <div class="feature-item">
                                                <i class="bi bi-palette text-primary-custom mb-3" style="font-size: 3rem;"></i>
                                                <h6>Dise√±o Personalizado</h6>
                                                <p class="text-muted small">Cada arreglo es √∫nico y hecho a medida</p>
                                            </div>
                                        </div>
                                        <div class="col-md-3 mb-4">
                                            <div class="feature-item">
                                                <i class="bi bi-clock-history text-primary-custom mb-3" style="font-size: 3rem;"></i>
                                                <h6>Puntualidad Garantizada</h6>
                                                <p class="text-muted small">Entrega perfecta el d√≠a de tu boda</p>
                                            </div>
                                        </div>
                                        <div class="col-md-3 mb-4">
                                            <div class="feature-item">
                                                <i class="bi bi-headset text-primary-custom mb-3" style="font-size: 3rem;"></i>
                                                <h6>Soporte Completo</h6>
                                                <p class="text-muted small">Te acompa√±amos en cada paso</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div class="loading-overlay" id="loadingSpinner">
        <div class="spinner-border text-success" role="status">
            <span class="visually-hidden">Cargando...</span>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Content visibility control -->
    <script>
        // Simple content visibility control
        function ensureContentVisible() {
            if (!document.documentElement.classList.contains('loaded')) {
                document.documentElement.classList.add('loaded');
                console.log('[‚úÖ] Content visibility ensured');
            }
        }

        // Ensure content is visible when everything is loaded
        if (document.readyState === 'complete') {
            ensureContentVisible();
        } else {
            window.addEventListener('load', ensureContentVisible);
        }
    </script>

    <!-- Custom JS - Load after critical styles -->
    <!-- üå∏ FloresYa TypeScript Modules - 100% Type-Safe Frontend -->
    <script type="module" src="/frontend/utils/logger.js"></script>
    <script type="module" src="/frontend/services/api.js"></script>
    <script type="module" src="/frontend/main.js"></script>

    <!-- Authentication System -->
    <script type="module" src="/frontend/auth.js"></script>

    <!-- Scroll Performance Optimization -->
    <script src="/frontend/scroll-effects-fix.js" defer></script>

    <!-- Note: Additional modules like cart, auth, carousel will be migrated to TypeScript in future iterations -->
    
    <!-- ‚ú® Advanced Conversion Optimization Scripts ‚ú® -->
    <script>
        // Smart counter animation for social proof
        function animateCounters() {
            const counters = document.querySelectorAll('[data-counter]');
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-counter'));
                let current = 0;
                const increment = target / 100;
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        counter.textContent = target.toLocaleString() + '+';
                        clearInterval(timer);
                    } else {
                        counter.textContent = Math.floor(current).toLocaleString() + '+';
                    }
                }, 20);
            });
        }
        
        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                    
                    // Trigger counter animation if element has counter
                    if (entry.target.querySelector('[data-counter]')) {
                        animateCounters();
                    }
                }
            });
        }, observerOptions);
        
        // Observe elements for scroll animations
        document.addEventListener('DOMContentLoaded', () => {
            const animatedElements = document.querySelectorAll('.social-proof-banner, .testimonial-card');
            animatedElements.forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'all 0.6s ease';
                observer.observe(el);
            });
        });
        
        // Optimized sticky header behavior using CSS classes to avoid scroll-linked positioning warnings
        let lastScrollY = window.scrollY;
        let scrollTicking = false;

        function updateNavbar() {
            const currentScrollY = window.scrollY;
            const navbar = document.querySelector('.navbar');

            if (currentScrollY > 100) {
                navbar.classList.add('sticky-enhanced');
            } else {
                navbar.classList.remove('sticky-enhanced');
            }

            // Use CSS classes instead of direct transform manipulation
            if (currentScrollY > lastScrollY && currentScrollY > 300) {
                navbar.classList.add('navbar-hidden');
            } else {
                navbar.classList.remove('navbar-hidden');
            }

            lastScrollY = currentScrollY;
            scrollTicking = false;
        }

        window.addEventListener('scroll', () => {
            if (!scrollTicking) {
                requestAnimationFrame(updateNavbar);
                scrollTicking = true;
            }
        });
        
        // Add CSS for spin animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);

        // Development Quick Login Functions
        function setupDevLoginButtons() {
            const adminBtn = document.getElementById('devAdminLogin');
            const clientBtn = document.getElementById('devClientLogin');

            if (adminBtn) {
                adminBtn.addEventListener('click', () => {
                    fillLoginForm('admin@floresya.com', 'admin');
                });
            }

            if (clientBtn) {
                clientBtn.addEventListener('click', () => {
                    fillLoginForm('cliente@floresya.com', 'cliente');
                });
            }
        }

        function fillLoginForm(email, password) {
            const emailField = document.getElementById('loginEmail');
            const passwordField = document.getElementById('loginPassword');
            const submitBtn = document.querySelector('#loginForm button[type="submit"]');

            if (emailField && passwordField) {
                emailField.value = email;
                passwordField.value = password;

                // Trigger input events for validation
                emailField.dispatchEvent(new Event('input', { bubbles: true }));
                passwordField.dispatchEvent(new Event('input', { bubbles: true }));

                // Auto-submit after a short delay
                setTimeout(() => {
                    if (submitBtn) {
                        submitBtn.click();
                    }
                }, 500);
            }
        }

        // Initialize dev buttons when DOM is ready
        document.addEventListener('DOMContentLoaded', setupDevLoginButtons);
    </script>
    
</body>
</html>
