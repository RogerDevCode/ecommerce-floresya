/* Mobile-First Conversion Optimizer for FloresYa
   Superlative mobile experience optimized for maximum conversion */

/* ============================================ */
/* MOBILE-FIRST BASE STYLES */
/* ============================================ */

/* Mobile viewport optimization */
@viewport {
    width: device-width;
    zoom: 1.0;
}

/* Mobile-specific variables */
:root {
    --mobile-touch-target: 44px;
    --mobile-spacing-xs: 8px;
    --mobile-spacing-sm: 12px;
    --mobile-spacing-md: 16px;
    --mobile-spacing-lg: 24px;
    --mobile-spacing-xl: 32px;
    --mobile-font-xs: 12px;
    --mobile-font-sm: 14px;
    --mobile-font-md: 16px;
    --mobile-font-lg: 18px;
    --mobile-font-xl: 24px;
    --mobile-border-radius: 12px;
    --mobile-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    --mobile-shadow-elevated: 0 8px 32px rgba(0, 0, 0, 0.15);
}

/* ============================================ */
/* MOBILE NAVIGATION ENHANCEMENTS */
/* ============================================ */

@media (max-width: 768px) {
    .navbar {
        padding: var(--mobile-spacing-sm) 0;
        position: sticky;
        top: 0;
        z-index: 1000;
        backdrop-filter: blur(20px);
        background: rgba(255, 255, 255, 0.95);
    }
    
    .navbar-brand {
        font-size: var(--mobile-font-lg);
    }
    
    .logo-img {
        width: 32px;
        height: 32px;
    }
    
    .nav-actions {
        gap: var(--mobile-spacing-xs);
    }
    
    .nav-actions .btn {
        padding: var(--mobile-spacing-xs) var(--mobile-spacing-sm);
        font-size: var(--mobile-font-sm);
        min-height: var(--mobile-touch-target);
        min-width: var(--mobile-touch-target);
        border-radius: var(--mobile-border-radius);
    }
    
    .user-journey {
        display: none !important;
    }
    
    .brand-tagline {
        display: none;
    }
}

/* ============================================ */
/* MOBILE PRODUCT GALLERY */
/* ============================================ */

@media (max-width: 768px) {
    .product-gallery-enhanced {
        margin-bottom: var(--mobile-spacing-lg);
    }
    
    .main-image-container {
        position: relative;
        border-radius: var(--mobile-border-radius);
        overflow: hidden;
        box-shadow: var(--mobile-shadow);
    }
    
    .main-image {
        width: 100%;
        height: auto;
        max-height: 400px;
        object-fit: cover;
    }
    
    /* Mobile-optimized image overlay */
    .image-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
        color: white;
        font-size: var(--mobile-font-lg);
        font-weight: 600;
        text-align: center;
    }
    
    .main-image-container:active .image-overlay {
        opacity: 1;
    }
    
    /* Mobile thumbnails optimization */
    .thumbnails-container {
        margin-top: var(--mobile-spacing-md);
    }
    
    #thumbnails {
        display: flex;
        gap: var(--mobile-spacing-sm);
        overflow-x: auto;
        padding: var(--mobile-spacing-xs) 0;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
    }
    
    #thumbnails img {
        flex: 0 0 60px;
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 8px;
        scroll-snap-align: start;
        border: 2px solid transparent;
        transition: all 0.3s ease;
    }
    
    #thumbnails img.active {
        border-color: var(--primary-color);
        transform: scale(1.1);
    }
    
    /* Mobile trust signals */
    .trust-signals {
        display: flex;
        justify-content: space-around;
        padding: var(--mobile-spacing-md);
        background: rgba(0, 0, 0, 0.02);
        border-radius: var(--mobile-border-radius);
        margin-top: var(--mobile-spacing-md);
    }
    
    .trust-item {
        text-align: center;
        font-size: var(--mobile-font-xs);
        color: #666;
    }
    
    .trust-item i {
        display: block;
        font-size: var(--mobile-font-md);
        margin-bottom: 4px;
    }
}

/* ============================================ */
/* MOBILE PRODUCT INFORMATION */
/* ============================================ */

@media (max-width: 768px) {
    .product-info-enhanced {
        padding: var(--mobile-spacing-md);
    }
    
    /* Mobile breadcrumb */
    .breadcrumb-enhanced {
        display: flex;
        overflow-x: auto;
        white-space: nowrap;
        padding: var(--mobile-spacing-sm) 0;
        margin-bottom: var(--mobile-spacing-md);
        font-size: var(--mobile-font-xs);
        -webkit-overflow-scrolling: touch;
    }
    
    .breadcrumb-enhanced li {
        flex-shrink: 0;
    }
    
    /* Mobile product title */
    .product-title-enhanced {
        font-size: var(--mobile-font-xl);
        line-height: 1.3;
        margin-bottom: var(--mobile-spacing-md);
    }
    
    /* Mobile social proof */
    .social-proof {
        flex-direction: column;
        gap: var(--mobile-spacing-sm);
        align-items: flex-start;
    }
    
    .rating-stars {
        display: flex;
        align-items: center;
        gap: 4px;
    }
    
    .rating-text {
        font-size: var(--mobile-font-sm);
    }
    
    .bestseller-badge {
        padding: 4px 8px;
        font-size: var(--mobile-font-xs);
        border-radius: 6px;
    }
    
    /* Mobile product summary */
    .product-summary-enhanced {
        margin-bottom: var(--mobile-spacing-lg);
    }
    
    .summary-text {
        font-size: var(--mobile-font-md);
        line-height: 1.5;
        margin-bottom: var(--mobile-spacing-sm);
    }
    
    .highlight-tags {
        display: flex;
        flex-wrap: wrap;
        gap: var(--mobile-spacing-xs);
    }
    
    .tag {
        padding: 4px 8px;
        font-size: var(--mobile-font-xs);
        border-radius: 6px;
        white-space: nowrap;
    }
}

/* ============================================ */
/* MOBILE PRICING OPTIMIZATION */
/* ============================================ */

@media (max-width: 768px) {
    .price-section-enhanced {
        background: linear-gradient(135deg, #fff8f0, #f0f9ff);
        border-radius: var(--mobile-border-radius);
        padding: var(--mobile-spacing-lg);
        margin-bottom: var(--mobile-spacing-lg);
        box-shadow: var(--mobile-shadow);
        position: sticky;
        top: 80px;
        z-index: 100;
    }
    
    .price-container {
        text-align: center;
    }
    
    .main-price {
        margin-bottom: var(--mobile-spacing-sm);
    }
    
    .current-price {
        font-size: 32px;
        font-weight: 700;
        color: #2d5016;
        display: block;
        margin-bottom: 4px;
    }
    
    .currency-converter {
        font-size: var(--mobile-font-sm);
        color: #666;
        display: block;
    }
    
    .price-benefits {
        display: flex;
        justify-content: space-around;
        margin-top: var(--mobile-spacing-sm);
        gap: var(--mobile-spacing-sm);
    }
    
    .savings-badge,
    .free-shipping {
        display: flex;
        align-items: center;
        gap: 4px;
        font-size: var(--mobile-font-xs);
        padding: 4px 8px;
        border-radius: 6px;
        background: rgba(45, 80, 22, 0.1);
        color: #2d5016;
        font-weight: 600;
    }
    
    .price-comparison {
        text-align: center;
        margin-top: var(--mobile-spacing-sm);
        font-size: var(--mobile-font-sm);
    }
}

/* ============================================ */
/* MOBILE URGENCY & SCARCITY */
/* ============================================ */

@media (max-width: 768px) {
    .urgency-section {
        background: linear-gradient(135deg, #fff1f0, #fef7cd);
        border-radius: var(--mobile-border-radius);
        padding: var(--mobile-spacing-md);
        margin-bottom: var(--mobile-spacing-lg);
        border: 2px solid #fbbf24;
        animation: mobileUrgencyPulse 3s infinite;
    }
    
    @keyframes mobileUrgencyPulse {
        0%, 100% { 
            box-shadow: 0 4px 20px rgba(251, 191, 36, 0.2);
            transform: scale(1);
        }
        50% { 
            box-shadow: 0 8px 32px rgba(251, 191, 36, 0.4);
            transform: scale(1.01);
        }
    }
    
    .urgency-timer {
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-sm);
        margin-bottom: var(--mobile-spacing-sm);
    }
    
    .timer-icon {
        font-size: var(--mobile-font-lg);
    }
    
    .timer-content strong {
        font-size: var(--mobile-font-md);
        color: #dc2626;
        display: block;
        margin-bottom: 4px;
    }
    
    .countdown-timer {
        display: flex;
        justify-content: center;
        gap: var(--mobile-spacing-xs);
        margin-top: var(--mobile-spacing-sm);
    }
    
    .time-unit {
        background: #dc2626;
        color: white;
        padding: 8px 12px;
        border-radius: 8px;
        text-align: center;
        min-width: 50px;
        font-weight: 700;
    }
    
    .time-number {
        font-size: var(--mobile-font-lg);
        display: block;
        line-height: 1;
    }
    
    .time-label {
        font-size: var(--mobile-font-xs);
        opacity: 0.8;
    }
    
    .separator {
        font-size: var(--mobile-font-lg);
        font-weight: 700;
        color: #dc2626;
        align-self: center;
    }
    
    .stock-pressure {
        margin-top: var(--mobile-spacing-md);
    }
    
    .stock-bar {
        height: 8px;
        background: rgba(220, 38, 38, 0.2);
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: var(--mobile-spacing-xs);
    }
    
    .stock-fill {
        height: 100%;
        background: linear-gradient(90deg, #dc2626, #ef4444);
        transition: width 2s ease;
        animation: stockPulse 2s infinite;
    }
    
    @keyframes stockPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
    }
    
    .stock-text {
        text-align: center;
        font-size: var(--mobile-font-sm);
    }
    
    .stock-text strong {
        color: #dc2626;
        font-weight: 700;
    }
    
    .stock-text small {
        display: block;
        font-size: var(--mobile-font-xs);
        color: #666;
        margin-top: 2px;
    }
}

/* ============================================ */
/* MOBILE CUSTOMIZATION SECTION */
/* ============================================ */

@media (max-width: 768px) {
    .customization-section {
        background: white;
        border-radius: var(--mobile-border-radius);
        padding: var(--mobile-spacing-md);
        margin-bottom: var(--mobile-spacing-lg);
        box-shadow: var(--mobile-shadow);
    }
    
    .customization-title {
        font-size: var(--mobile-font-lg);
        margin-bottom: var(--mobile-spacing-md);
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-xs);
    }
    
    .customization-badge {
        background: #3b82f6;
        color: white;
        font-size: 10px;
        padding: 2px 6px;
        border-radius: 4px;
        font-weight: 600;
        margin-left: var(--mobile-spacing-xs);
    }
    
    .customization-option {
        margin-bottom: var(--mobile-spacing-lg);
    }
    
    .option-label {
        font-size: var(--mobile-font-md);
        font-weight: 600;
        color: #1f2937;
        margin-bottom: var(--mobile-spacing-sm);
        display: block;
    }
    
    /* Mobile color selector */
    .color-selector {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--mobile-spacing-sm);
    }
    
    .color-option {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: var(--mobile-spacing-sm);
        border: 2px solid #e5e7eb;
        border-radius: var(--mobile-border-radius);
        cursor: pointer;
        transition: all 0.3s ease;
        background: white;
        min-height: var(--mobile-touch-target);
        justify-content: center;
    }
    
    .color-option:active {
        transform: scale(0.95);
    }
    
    input[type="radio"]:checked + .color-option {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.1);
        transform: scale(1.05);
    }
    
    .color-preview {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        margin-bottom: 4px;
        border: 2px solid rgba(255, 255, 255, 0.8);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .color-pink .color-preview { background: #ec4899; }
    .color-red .color-preview { background: #ef4444; }
    .color-gold .color-preview { background: #f59e0b; }
    .color-white .color-preview { background: #f9fafb; border-color: #d1d5db; }
    
    .color-name {
        font-size: var(--mobile-font-xs);
        font-weight: 600;
        text-align: center;
    }
    
    /* Mobile paper selector */
    .paper-selector {
        display: flex;
        flex-direction: column;
        gap: var(--mobile-spacing-sm);
    }
    
    .paper-option {
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-sm);
        padding: var(--mobile-spacing-sm);
        border: 2px solid #e5e7eb;
        border-radius: var(--mobile-border-radius);
        cursor: pointer;
        transition: all 0.3s ease;
        background: white;
        min-height: var(--mobile-touch-target);
    }
    
    .paper-option:active {
        transform: scale(0.98);
    }
    
    .paper-option.selected {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.1);
    }
    
    .paper-preview {
        width: 32px;
        height: 32px;
        border-radius: 6px;
        flex-shrink: 0;
    }
    
    .paper-transparent { background: linear-gradient(45deg, #f8fafc, #e2e8f0); }
    .paper-kraft { background: #d2b48c; }
    .paper-floral { background: linear-gradient(45deg, #fce7f3, #fbcfe8); }
    
    .paper-name {
        flex: 1;
        font-weight: 600;
        font-size: var(--mobile-font-sm);
    }
    
    .paper-price {
        font-size: var(--mobile-font-sm);
        font-weight: 600;
        color: #059669;
    }
    
    /* Mobile message input */
    .message-input {
        width: 100%;
        border: 2px solid #e5e7eb;
        border-radius: var(--mobile-border-radius);
        padding: var(--mobile-spacing-sm);
        font-size: var(--mobile-font-md);
        resize: vertical;
        min-height: 80px;
        transition: all 0.3s ease;
    }
    
    .message-input:focus {
        border-color: #3b82f6;
        outline: none;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .character-counter {
        text-align: right;
        font-size: var(--mobile-font-xs);
        color: #666;
        margin-top: 4px;
    }
}

/* ============================================ */
/* MOBILE QUANTITY & ACTIONS */
/* ============================================ */

@media (max-width: 768px) {
    .quantity-section {
        background: white;
        border-radius: var(--mobile-border-radius);
        padding: var(--mobile-spacing-md);
        margin-bottom: var(--mobile-spacing-lg);
        box-shadow: var(--mobile-shadow);
    }
    
    .quantity-label {
        font-size: var(--mobile-font-md);
        font-weight: 600;
        color: #1f2937;
        margin-bottom: var(--mobile-spacing-sm);
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-xs);
    }
    
    .quantity-controls {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--mobile-spacing-sm);
        margin-bottom: var(--mobile-spacing-sm);
    }
    
    .quantity-btn {
        width: var(--mobile-touch-target);
        height: var(--mobile-touch-target);
        border: 2px solid #e5e7eb;
        border-radius: 50%;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: var(--mobile-font-md);
        font-weight: 700;
    }
    
    .quantity-btn:active {
        transform: scale(0.9);
    }
    
    .quantity-btn:hover {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.1);
    }
    
    .quantity-input {
        width: 60px;
        height: var(--mobile-touch-target);
        border: 2px solid #e5e7eb;
        border-radius: var(--mobile-border-radius);
        text-align: center;
        font-size: var(--mobile-font-lg);
        font-weight: 700;
        background: #f9fafb;
    }
    
    .quantity-input:focus {
        border-color: #3b82f6;
        outline: none;
        background: white;
    }
    
    .stock-status-available,
    .stock-status-unavailable {
        text-align: center;
        padding: var(--mobile-spacing-xs);
        border-radius: 8px;
        margin: var(--mobile-spacing-sm) 0;
        font-size: var(--mobile-font-sm);
    }
    
    .stock-status-available {
        background: rgba(16, 185, 129, 0.1);
        color: #047857;
    }
    
    .stock-status-unavailable {
        background: rgba(239, 68, 68, 0.1);
        color: #dc2626;
    }
    
    .quantity-benefits {
        text-align: center;
        font-size: var(--mobile-font-xs);
        color: #666;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 4px;
    }
}

/* ============================================ */
/* MOBILE CALL-TO-ACTION OPTIMIZATION */
/* ============================================ */

@media (max-width: 768px) {
    .action-buttons-enhanced {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        padding: var(--mobile-spacing-md);
        box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        border-top: 1px solid #e5e7eb;
    }
    
    .conversion-banner {
        margin-bottom: var(--mobile-spacing-sm);
        padding: var(--mobile-spacing-sm);
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        color: white;
        border-radius: var(--mobile-border-radius);
        text-align: center;
        font-size: var(--mobile-font-sm);
        font-weight: 600;
        animation: mobileBannerPulse 2s infinite;
    }
    
    @keyframes mobileBannerPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.02); }
    }
    
    .banner-content {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--mobile-spacing-xs);
    }
    
    .banner-icon {
        font-size: var(--mobile-font-md);
        animation: bannerIconSpin 3s linear infinite;
    }
    
    @keyframes bannerIconSpin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    .banner-text strong {
        display: block;
        font-size: var(--mobile-font-sm);
        margin-bottom: 2px;
    }
    
    .banner-text small {
        font-size: var(--mobile-font-xs);
        opacity: 0.9;
    }
    
    /* Mobile FloresYa button optimization */
    #floresya-btn {
        width: 100%;
        height: 60px;
        font-size: var(--mobile-font-lg);
        font-weight: 700;
        border-radius: var(--mobile-border-radius);
        background: linear-gradient(135deg, #3b82f6, #1d4ed8, #7c3aed);
        color: white;
        border: none;
        box-shadow: var(--mobile-shadow-elevated);
        margin-bottom: var(--mobile-spacing-sm);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
        background-size: 300% 300%;
        animation: mobileFloresYaGradient 3s ease infinite;
    }
    
    @keyframes mobileFloresYaGradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    
    #floresya-btn:active {
        transform: scale(0.98);
    }
    
    #floresya-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        animation: mobileButtonShine 3s infinite;
    }
    
    @keyframes mobileButtonShine {
        0% { left: -100%; }
        100% { left: 100%; }
    }
    
    .btn-content {
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-sm);
        position: relative;
        z-index: 1;
    }
    
    .btn-icon {
        font-size: 24px;
        animation: btnIconPulse 2s infinite;
    }
    
    @keyframes btnIconPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }
    
    .btn-text {
        flex: 1;
        text-align: left;
    }
    
    .btn-main {
        font-size: var(--mobile-font-md);
        font-weight: 700;
        display: block;
        line-height: 1.2;
    }
    
    .btn-sub {
        font-size: var(--mobile-font-xs);
        opacity: 0.9;
        font-weight: 500;
    }
    
    .btn-savings {
        font-size: var(--mobile-font-xs);
        text-align: right;
        opacity: 0.9;
    }
    
    /* Mobile secondary CTA */
    #add-to-cart-btn {
        width: 100%;
        height: 50px;
        font-size: var(--mobile-font-md);
        font-weight: 600;
        border-radius: var(--mobile-border-radius);
        background: white;
        color: #3b82f6;
        border: 2px solid #3b82f6;
        margin-bottom: var(--mobile-spacing-sm);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--mobile-spacing-xs);
    }
    
    #add-to-cart-btn:active {
        transform: scale(0.98);
        background: rgba(59, 130, 246, 0.1);
    }
    
    /* Mobile secondary actions */
    .secondary-actions {
        display: flex;
        justify-content: space-around;
        gap: var(--mobile-spacing-xs);
        margin-bottom: var(--mobile-spacing-sm);
    }
    
    .secondary-actions .btn {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        padding: var(--mobile-spacing-xs);
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        background: white;
        font-size: var(--mobile-font-xs);
        color: #6b7280;
        min-height: var(--mobile-touch-target);
        justify-content: center;
        transition: all 0.3s ease;
    }
    
    .secondary-actions .btn:active {
        transform: scale(0.95);
        background: #f3f4f6;
    }
    
    .secondary-actions .btn i {
        font-size: var(--mobile-font-md);
        margin-bottom: 2px;
    }
    
    .secondary-actions .btn span {
        font-size: 10px;
        font-weight: 600;
    }
    
    /* Hide traditional navigation links on mobile */
    .traditional-nav-links {
        display: none;
    }
}

/* ============================================ */
/* MOBILE TRUST SECTION */
/* ============================================ */

@media (max-width: 768px) {
    .trust-section {
        background: white;
        border-radius: var(--mobile-border-radius);
        padding: var(--mobile-spacing-md);
        margin-bottom: 100px; /* Space for fixed CTA */
        box-shadow: var(--mobile-shadow);
    }
    
    .trust-title {
        font-size: var(--mobile-font-md);
        margin-bottom: var(--mobile-spacing-sm);
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-xs);
        justify-content: center;
    }
    
    .verified-badge {
        background: #10b981;
        color: white;
        font-size: 10px;
        padding: 2px 6px;
        border-radius: 4px;
        font-weight: 600;
        margin-left: var(--mobile-spacing-xs);
    }
    
    .trust-features {
        display: flex;
        flex-direction: column;
        gap: var(--mobile-spacing-sm);
        margin-bottom: var(--mobile-spacing-md);
    }
    
    .trust-item {
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-sm);
        padding: var(--mobile-spacing-sm);
        background: rgba(16, 185, 129, 0.05);
        border-radius: 8px;
        border-left: 4px solid #10b981;
    }
    
    .trust-item i {
        font-size: var(--mobile-font-lg);
        flex-shrink: 0;
    }
    
    .trust-content {
        flex: 1;
    }
    
    .trust-content strong {
        font-size: var(--mobile-font-sm);
        color: #047857;
        display: block;
        margin-bottom: 2px;
    }
    
    .trust-content small {
        font-size: var(--mobile-font-xs);
        color: #6b7280;
    }
    
    .security-badges {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        gap: var(--mobile-spacing-sm);
    }
    
    .badge-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        padding: var(--mobile-spacing-xs);
        background: #f9fafb;
        border-radius: 8px;
        flex: 1;
        min-width: 70px;
    }
    
    .badge-item i {
        font-size: var(--mobile-font-md);
    }
    
    .badge-item small {
        font-size: 10px;
        font-weight: 600;
        text-align: center;
        color: #4b5563;
    }
}

/* ============================================ */
/* MOBILE IMPULSE TRIGGERS */
/* ============================================ */

@media (max-width: 768px) {
    .impulse-triggers {
        display: flex;
        flex-direction: column;
        gap: var(--mobile-spacing-sm);
        margin-bottom: var(--mobile-spacing-lg);
        padding: 0 var(--mobile-spacing-md);
    }
    
    .trigger-item {
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-sm);
        padding: var(--mobile-spacing-sm);
        border-radius: var(--mobile-border-radius);
        box-shadow: var(--mobile-shadow);
        animation: mobileTriggerPulse 4s infinite;
        background: white;
    }
    
    .trigger-item.order-trigger {
        background: linear-gradient(135deg, #fef2f2, #fee2e2);
        border-left: 4px solid #ef4444;
    }
    
    .trigger-item.social-trigger {
        background: linear-gradient(135deg, #eff6ff, #dbeafe);
        border-left: 4px solid #3b82f6;
    }
    
    .trigger-item.scarcity-trigger {
        background: linear-gradient(135deg, #fefce8, #fef3c7);
        border-left: 4px solid #f59e0b;
    }
    
    @keyframes mobileTriggerPulse {
        0%, 100% { 
            transform: scale(1);
            box-shadow: var(--mobile-shadow);
        }
        50% { 
            transform: scale(1.01);
            box-shadow: var(--mobile-shadow-elevated);
        }
    }
    
    .trigger-icon {
        font-size: var(--mobile-font-lg);
        flex-shrink: 0;
    }
    
    .trigger-content {
        flex: 1;
    }
    
    .trigger-content strong {
        font-size: var(--mobile-font-sm);
        display: block;
        margin-bottom: 2px;
        color: #1f2937;
    }
    
    .trigger-content small {
        font-size: var(--mobile-font-xs);
        color: #6b7280;
    }
}

/* ============================================ */
/* MOBILE CROSS-SELL OPTIMIZATION */
/* ============================================ */

@media (max-width: 768px) {
    .intelligent-cross-sell-container {
        margin: var(--mobile-spacing-lg) var(--mobile-spacing-md) 120px;
        padding: var(--mobile-spacing-lg);
        border-radius: var(--mobile-border-radius);
        box-shadow: var(--mobile-shadow);
    }
    
    .cross-sell-header h3 {
        font-size: var(--mobile-font-lg);
        text-align: center;
    }
    
    .header-content {
        flex-direction: column;
        align-items: center;
        gap: var(--mobile-spacing-sm);
        text-align: center;
    }
    
    .header-stats {
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .bundles-grid {
        grid-template-columns: 1fr;
        gap: var(--mobile-spacing-md);
    }
    
    .bundle-card {
        padding: var(--mobile-spacing-md);
    }
    
    .bundle-products {
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .bundle-product-mini {
        min-width: 50px;
        height: 50px;
        font-size: var(--mobile-font-lg);
    }
    
    .recommendations-carousel {
        gap: var(--mobile-spacing-sm);
        padding: var(--mobile-spacing-xs);
    }
    
    .recommendation-card {
        flex: 0 0 250px;
        padding: var(--mobile-spacing-sm);
    }
    
    .smart-shopping-assistant {
        flex-direction: column;
        text-align: center;
        gap: var(--mobile-spacing-sm);
        padding: var(--mobile-spacing-md);
    }
    
    .assistant-avatar {
        font-size: 36px;
    }
    
    .assistant-message {
        font-size: var(--mobile-font-md);
    }
    
    .cross-sell-urgency {
        flex-direction: column;
        gap: var(--mobile-spacing-sm);
        text-align: center;
        padding: var(--mobile-spacing-md);
    }
}

/* ============================================ */
/* MOBILE MODAL & OVERLAY OPTIMIZATION */
/* ============================================ */

@media (max-width: 768px) {
    /* Express checkout modal */
    .express-checkout-content {
        width: 98%;
        max-height: 95vh;
        margin: 1vh 1vw;
        border-radius: var(--mobile-border-radius);
    }
    
    .express-header {
        padding: var(--mobile-spacing-md);
    }
    
    .express-logo {
        font-size: var(--mobile-font-lg);
    }
    
    .express-steps-container {
        padding: var(--mobile-spacing-md);
        max-height: 60vh;
    }
    
    .express-navigation {
        padding: var(--mobile-spacing-md);
        flex-direction: column;
        gap: var(--mobile-spacing-sm);
    }
    
    .express-btn-primary,
    .express-btn-secondary {
        width: 100%;
        height: var(--mobile-touch-target);
        font-size: var(--mobile-font-md);
    }
    
    /* Product confirmation mobile */
    .product-summary-card {
        display: flex;
        gap: var(--mobile-spacing-sm);
        padding: var(--mobile-spacing-sm);
        background: #f9fafb;
        border-radius: var(--mobile-border-radius);
        margin-bottom: var(--mobile-spacing-md);
    }
    
    .product-image img {
        width: 80px;
        height: 80px;
        border-radius: 8px;
    }
    
    .product-details {
        flex: 1;
    }
    
    .product-details h4 {
        font-size: var(--mobile-font-sm);
        margin-bottom: var(--mobile-spacing-xs);
    }
    
    .product-customization {
        display: flex;
        flex-direction: column;
        gap: 4px;
        margin-bottom: var(--mobile-spacing-xs);
    }
    
    .customization-item {
        font-size: var(--mobile-font-xs);
        color: #6b7280;
        display: flex;
        align-items: center;
        gap: 4px;
    }
    
    .product-pricing {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: var(--mobile-font-sm);
        font-weight: 600;
    }
    
    .benefits-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--mobile-spacing-xs);
    }
    
    .benefit-item {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: var(--mobile-font-xs);
        padding: var(--mobile-spacing-xs);
        background: rgba(59, 130, 246, 0.1);
        border-radius: 6px;
    }
    
    /* Delivery info mobile */
    .delivery-form {
        display: flex;
        flex-direction: column;
        gap: var(--mobile-spacing-md);
    }
    
    .form-group label {
        font-size: var(--mobile-font-sm);
        font-weight: 600;
        margin-bottom: var(--mobile-spacing-xs);
        display: block;
    }
    
    .express-input,
    .express-textarea,
    .express-select {
        width: 100%;
        height: var(--mobile-touch-target);
        border: 2px solid #e5e7eb;
        border-radius: var(--mobile-border-radius);
        padding: 0 var(--mobile-spacing-sm);
        font-size: var(--mobile-font-md);
    }
    
    .express-textarea {
        height: auto;
        min-height: 80px;
        resize: vertical;
        padding: var(--mobile-spacing-sm);
    }
    
    .form-row {
        display: flex;
        gap: var(--mobile-spacing-sm);
    }
    
    .form-row .form-group {
        flex: 1;
    }
    
    .option-cards {
        display: flex;
        flex-direction: column;
        gap: var(--mobile-spacing-sm);
    }
    
    .option-card {
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-sm);
        padding: var(--mobile-spacing-sm);
        border: 2px solid #e5e7eb;
        border-radius: var(--mobile-border-radius);
        cursor: pointer;
        transition: all 0.3s ease;
        min-height: var(--mobile-touch-target);
    }
    
    .option-card.selected {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.1);
    }
    
    .option-card:active {
        transform: scale(0.98);
    }
    
    .option-icon {
        font-size: var(--mobile-font-lg);
        flex-shrink: 0;
    }
    
    .option-content {
        flex: 1;
    }
    
    .option-title {
        font-size: var(--mobile-font-sm);
        font-weight: 600;
        margin-bottom: 2px;
    }
    
    .option-subtitle {
        font-size: var(--mobile-font-xs);
        color: #6b7280;
    }
    
    /* Payment method mobile */
    .payment-methods {
        display: flex;
        flex-direction: column;
        gap: var(--mobile-spacing-sm);
        margin-bottom: var(--mobile-spacing-lg);
    }
    
    .payment-method-card {
        display: flex;
        align-items: center;
        gap: var(--mobile-spacing-sm);
        padding: var(--mobile-spacing-sm);
        border: 2px solid #e5e7eb;
        border-radius: var(--mobile-border-radius);
        cursor: pointer;
        transition: all 0.3s ease;
        min-height: var(--mobile-touch-target);
        background: white;
    }
    
    .payment-method-card.selected {
        border-color: #10b981;
        background: rgba(16, 185, 129, 0.1);
    }
    
    .payment-method-card:active {
        transform: scale(0.98);
    }
    
    .payment-icon {
        font-size: var(--mobile-font-lg);
        flex-shrink: 0;
    }
    
    .payment-content {
        flex: 1;
    }
    
    .payment-title {
        font-size: var(--mobile-font-sm);
        font-weight: 600;
        margin-bottom: 2px;
    }
    
    .payment-subtitle {
        font-size: var(--mobile-font-xs);
        color: #6b7280;
    }
    
    .order-summary {
        background: #f9fafb;
        padding: var(--mobile-spacing-md);
        border-radius: var(--mobile-border-radius);
        margin-bottom: var(--mobile-spacing-lg);
    }
    
    .order-summary h4 {
        font-size: var(--mobile-font-md);
        margin-bottom: var(--mobile-spacing-sm);
        text-align: center;
    }
    
    .summary-details {
        display: flex;
        flex-direction: column;
        gap: var(--mobile-spacing-xs);
    }
    
    .summary-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: var(--mobile-font-sm);
        padding: var(--mobile-spacing-xs) 0;
        border-bottom: 1px solid #e5e7eb;
    }
    
    .summary-row:last-child {
        border-bottom: none;
    }
    
    .summary-row.total {
        font-size: var(--mobile-font-md);
        font-weight: 700;
        border-top: 2px solid #e5e7eb;
        padding-top: var(--mobile-spacing-sm);
        margin-top: var(--mobile-spacing-xs);
    }
    
    .free {
        color: #10b981;
        font-weight: 600;
    }
    
    .total-amount {
        color: #059669;
        font-size: var(--mobile-font-lg);
    }
}

/* ============================================ */
/* MOBILE ANIMATIONS & INTERACTIONS */
/* ============================================ */

@media (max-width: 768px) {
    /* Touch feedback animations */
    .mobile-touch-feedback:active {
        transform: scale(0.95);
        transition: transform 0.1s ease;
    }
    
    /* Improved scroll behavior */
    * {
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-touch-callout: none;
    }
    
    /* Smooth scrolling for mobile */
    html {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
    }
    
    /* Mobile-specific focus styles */
    input:focus,
    textarea:focus,
    select:focus,
    button:focus {
        outline: 2px solid #3b82f6;
        outline-offset: 2px;
        border-color: #3b82f6;
    }
    
    /* Mobile loading states */
    .mobile-loading {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: var(--mobile-spacing-xl);
        font-size: var(--mobile-font-md);
        color: #6b7280;
    }
    
    .mobile-loading::before {
        content: '';
        width: 20px;
        height: 20px;
        border: 2px solid #e5e7eb;
        border-top: 2px solid #3b82f6;
        border-radius: 50%;
        animation: mobileSpinner 1s linear infinite;
        margin-right: var(--mobile-spacing-sm);
    }
    
    @keyframes mobileSpinner {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    /* Mobile success animations */
    .mobile-success-pulse {
        animation: mobileSuccessPulse 0.6s ease-out;
    }
    
    @keyframes mobileSuccessPulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); background-color: rgba(16, 185, 129, 0.1); }
        100% { transform: scale(1); }
    }
    
    /* Mobile error shake */
    .mobile-error-shake {
        animation: mobileErrorShake 0.5s ease-in-out;
    }
    
    @keyframes mobileErrorShake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
    }
}

/* ============================================ */
/* MOBILE PERFORMANCE OPTIMIZATIONS */
/* ============================================ */

@media (max-width: 768px) {
    /* Optimize for mobile rendering */
    * {
        box-sizing: border-box;
    }
    
    /* Reduce motion for users who prefer it */
    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }
    
    /* Improve text rendering on mobile */
    body {
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    /* Optimize images for mobile */
    img {
        max-width: 100%;
        height: auto;
        display: block;
    }
    
    /* Mobile-specific z-index management */
    .mobile-modal {
        z-index: 9999;
    }
    
    .mobile-overlay {
        z-index: 9998;
    }
    
    .mobile-notification {
        z-index: 10000;
    }
    
    /* Mobile safe areas (iPhone X and newer) */
    @supports (padding: max(0px)) {
        .action-buttons-enhanced {
            padding-bottom: max(var(--mobile-spacing-md), env(safe-area-inset-bottom));
        }
        
        .navbar {
            padding-top: max(var(--mobile-spacing-sm), env(safe-area-inset-top));
        }
    }
}

/* ============================================ */
/* MOBILE DARK MODE SUPPORT */
/* ============================================ */

@media (max-width: 768px) and (prefers-color-scheme: dark) {
    :root {
        --mobile-bg-primary: #1f2937;
        --mobile-bg-secondary: #374151;
        --mobile-text-primary: #f9fafb;
        --mobile-text-secondary: #d1d5db;
        --mobile-border-color: #4b5563;
    }
    
    body {
        background-color: var(--mobile-bg-primary);
        color: var(--mobile-text-primary);
    }
    
    .navbar {
        background: rgba(31, 41, 55, 0.95);
        backdrop-filter: blur(20px);
    }
    
    .action-buttons-enhanced {
        background: var(--mobile-bg-primary);
        border-top: 1px solid var(--mobile-border-color);
    }
    
    .express-input,
    .express-textarea,
    .express-select {
        background: var(--mobile-bg-secondary);
        color: var(--mobile-text-primary);
        border-color: var(--mobile-border-color);
    }
    
    .card,
    .modal-content {
        background: var(--mobile-bg-secondary);
        color: var(--mobile-text-primary);
    }
}

/* ============================================ */
/* MOBILE ACCESSIBILITY ENHANCEMENTS */
/* ============================================ */

@media (max-width: 768px) {
    /* High contrast mode support */
    @media (prefers-contrast: high) {
        .btn {
            border: 2px solid currentColor;
        }
        
        .express-input,
        .express-textarea,
        .express-select {
            border: 2px solid currentColor;
        }
    }
    
    /* Large text support */
    @media (prefers-reduced-transparency: reduce) {
        .navbar,
        .action-buttons-enhanced {
            backdrop-filter: none;
            background: white;
        }
    }
    
    /* Focus management */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }
    
    /* Screen reader improvements */
    [aria-hidden="true"] {
        display: none !important;
    }
    
    /* Skip links for keyboard navigation */
    .skip-link {
        position: absolute;
        top: -40px;
        left: 6px;
        background: #000;
        color: #fff;
        padding: 8px;
        text-decoration: none;
        z-index: 10001;
    }
    
    .skip-link:focus {
        top: 6px;
    }
}